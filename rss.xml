<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>[enzo]lutions</title>
        <link>http://enzolutions.com</link>
        <description>RSS feed for [enzo]lutions</description>
                <atom:link href="http://enzolutions.com/rss.xml" rel="self" type="application/rss+xml" />
                    <item>
                <title>What is and how it works RequireJS</title>
                <description><![CDATA[<p><a target="_blank" href="http://requirejs.org/">RequireJS</a> is a JavaScript library that allows us to isolate the components of our JS application as modules and resolve their dependencies.</p>

<p>RequireJS implements the design pattern of software <a target="_blank" href="http://en.wikipedia.org/wiki/Asynchronous_module_definition">AMD</a> (Asynchronous Module Definition) which you could say is very similar to <a target="_blank" href="http://en.wikipedia.org/wiki/Dependency_injection">Dependency injection</a> implemented by frameworks like <a target="_blank" href="http://symfony.com/">Symfony</a>.</p>

<p>Let's check how we can use in our JS application in simple steps.</p>

<h2>1. Define entry point for RequireJS.</h2>

<p>We must download the lastest version of RequireJS library available on the website <a target="_blank" href="http://requirejs.org">http://requirejs.org</a>, after download will put in a directory called libs just for purposes of this example (tested with version 2.1.11).</p>

<p>Now we need to  define a html file and could named index.html where RequireJS is loading as shown below.</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script data-main="libs/main" src="libs/require.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>As you can see the inclusión is done with the script tag at the end of the HTML tag body, but it could also be done within the head tag.</p>

<p>It's also possible to include RequireJS remotely using the URL <a target="_blank" href="http://requirejs.org/docs/release/2.1.11/minified/require.js">http://requirejs.org/docs/release/2.1.11/minified/require.js</a> or similar, but it is a desition of the reader.</p>

<p>As can be seen RequireJS  use the meta-data property <em>data-main</em>(, with this property we can define the entry point for RequireJS configuration, which is a relative path for the file we choose to load teh RequireJS configuraton (is necesarry exlude the js extension).</p>

<h2>2. Configure RequireJS</h2>

<p>In the file libs/main.js we define the RequireJS options. The first thing we should to define is which JS libraries will use in our application as shown below.</p>

<pre><code>require.config({
    baseUrl: 'libs',
    paths : {
      backbone : 'backbone',
      underscore : 'underscore',
      jquery : 'jquery',
      marionette : 'backbone.marionette',
      wreqr : 'backbone.wreqr',
      eventbinder : 'backbone.eventbinder',
      babysitter : 'backbone.babysitter'
  }
});
</code></pre>

<p>All files are seek in the directory defined using the <em>baseUrl</em> property, and the <em>paths</em> property allow define the location of the libraries required with a key to refer to the library later. The js extension is not required and will be added by RequireJS later.</p>

<p>As its name suggests the pattern AMD makes an asynchronous load of packages. But because not all the libraries implement the AMD pattern, is likely to a library A try to use a function defined in library B not yet loaded causing a fatal error.</p>

<p>To resolve this issue we use the property <em>Shim</em> part of  RequireJS configuration, as we see below.</p>

<pre><code>require.config({,
  shim : {
    jquery : {
      exports : 'jQuery'
    },
    underscore : {
      exports : '_'
    },
    backbone : {
      deps : ['jquery', 'underscore'],
      exports : 'Backbone'
    },
    wreqr: {
      deps : ['backbone']
    },
    eventbinder : {
      deps : ['backbone']
    },
    babysitter : {
      deps: ['backbone']
    },
    marionette : {
      deps: ['wreqr', 'eventbinder', 'babysitter'],
      exports : 'Marionette'
    }
  }
});
</code></pre>

<p>Using Shim we can define dependencies between libraries and allow to export global variables that can be used within other libraries such as jQuery library which  export  the variable jQuery.</p>

<p>The configuration with the Shim is a replacement for Order plugin used before version 2.0 of RequireJS.</p>

<p>The exports variable can also be an anonymous function to return the call noConflict function, if the library supports it.</p>

<p>Using the <em>deps</em> property, you can define multiple dependencies of libraries should be loaded before including the library that are defining, such as backbone that depends on jquery and underscore to be used.</p>

<p>Of course if we want to use the library with RequireJS  and supports AMD configuration pattern Shim isn't required.</p>

<h2>3. How to execute code required.</h2>

<p>Once defined libraries and its dependencies if necessary, we can now rewrite the code we need as shown below.</p>

<pre><code>// Loading dependences and execute Marionette App
require( ["marionette"], function (Marionette) {
    // set up the app instance
    var MyApp = new Marionette.Application();
 
    MyApp.on("initialize:after", function(){
      alert("Application has started!");
    });
 
    MyApp.start();
});
</code></pre>

<p>The above code checks that all the libraries needed to run Marionette are loaded before executing the code and get the exported global variable as a parameter.</p>

<p>In the anonymous function will create a Marionette Application and start it, As result we  will get an alert with the message "Application has started".</p>

<p>The require function has the same effect of an anonymous function, meaning that run without problems but can not be used later.</p>

<h2>4. How to create named modules.</h2>

<p>If we want encapsulate our App we must create named modules using the funcion <em>define</em>; The diference with require function is  an extra parameter that is used to name the module and returns an object or variable that will be used when the module is instantiated.</p>

<p>Then consider the previous example as a named module.</p>

<pre><code>define( 'MyApp', ["marionette"], function (Marionette) {
 
    // set up the app instance
    var MyApp = new Marionette.Application();
 
    MyApp.on("initialize:after", function(){
      alert("Application has started!");
    });
 
    // export the app from this module
    return MyApp;
});
 
// Fetch and execute Marionette App
require( ["MyApp"], function (MyApp) {
    // Execute App
    MyApp.start();
});
</code></pre>

<p>As you see we register a named module <em>MyApp</em> and  returns an object defined in Marionette.</p>

<p>Then with a <em>require</em> function the module is loaded, it receives as parameters the object returns by the module and can thus start our application.</p>

<p>It might seem a waste of time doing it this way as it is in the same file, but the idea is to create a module for file and using the configuration of RequireJS load all the libraries that define modules and then use these modules in our application.</p>

<p>You can download the <a target="_blank" href="http://enzolutions.com/projects/marionettejs_skeleton_app">Marionette App Skeleton</a> repository which implements the concepts discussed here.</p>

<p>I hope you have been to his liking.</p>
]]></description>
                <link>http://enzolutions.com/articles/2014/06/01/what-is-and-how-it-works-requirejs/</link>
                <pubDate>Sun, 01 Jun 2014 09:42:12 -0600</pubDate>
                <guid>http://enzolutions.com/articles/2014/06/01/what-is-and-how-it-works-requirejs/</guid>
            </item>
                    <item>
                <title>What is Cross-Origin Resource Sharing (CORS)</title>
                <description><![CDATA[<p>Nowdays is pretty common to transfer data between web applications via Web Services to  clients that require information on different interfaces such as REST, XMLRPC, JSON, JSON-RPC, SOAP and others.</p>

<p>Almost all sites today are built using JavaScript, generating AJAX calls with XMLHttpRequest mechanism to get information  from external sites. To enable this kind of comunication is necessary implement "cross-domain" requests would otherwise be forbidden by web browsers, per the <a target="_blank" href="http://en.wikipedia.org/wiki/Same_origin_policy">same origin security policy</a>.</p>

<p>Lets imagine the following scenery: we have a frontend application using the domain http://a.com and this application wants to use data provided by a  backend site located in domain http://b.com. For security this type of communication is blocked and the end user will be only able to get the information from http://a.com, this scenario is exemplified in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/crossdomain.png"/></p>

<p>To enable this kind of communication is requiered that your backed server (http//b.com) returns the specific HTTP Headers to enable CORS comunication. Below you can see an example of HTTP Header required.</p>

<pre><code>Access-Control-Allow-Credentials:true
Access-Control-Allow-Headers:X-CSRF-Token
Access-Control-Allow-Methods:POST,ADD,GET,PUT,DELETE,OPTIONS
Access-Control-Allow-Origin:http://localhost:8080
</code></pre>

<p>The header <em>Access-Control-Allow-Credentials</em> is only used if your request require some kind of authentication. You can read more information about all HTTP Headers at <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">Access Controls - CORS</a>.</p>
]]></description>
                <link>http://enzolutions.com/articles/2014/05/31/what-is-cross-origin-resource-sharing-cors/</link>
                <pubDate>Sat, 31 May 2014 09:42:12 -0600</pubDate>
                <guid>http://enzolutions.com/articles/2014/05/31/what-is-cross-origin-resource-sharing-cors/</guid>
            </item>
                    <item>
                <title>How to configure MySQL to import large database</title>
                <description><![CDATA[<p>On many occasions we need to install in our local enviroment a copy of production sites for development or debugging process, this entails that need to import large databases.</p>

<p>The most common error is that you cannot import the database because for some reason you loose the communication with the <a target="_blank" href="http://www.mysql.com/">MySQL</a> server, as shown below.</p>

<pre><code>$ /mysql -f -uroot -proot mydb -h 127.0.0.1 &lt; ~/Downloads/prod-mysql-2013-01-29.sql
ERROR 2006 (HY000) at line 6565: MySQL server has gone away
</code></pre>

<p>To fix this error you must to change the default configuration of MySQL.</p>

<p>MySQL store his configuration in a file commonly named my.cnf and could be located in different locations depending the OS version you have installed.</p>

<p>If you do not know the location of this file, you can use the following command shown below to determine where you expect to find locations MySQL settings.</p>

<pre><code>$ ./mysql --help | grep my.cnf
/etc/my.cnf /etc/mysql/my.cnf /Applications/MAMP/conf/my.cnf ~/.my.cnf
</code></pre>

<p>In my case I had MySQL as part of <a target="_blank" href="http://www.mamp.info/">MAMP</a> and this file is not created by default. For this reason I will create a new file located at <em>/Applications/MAMP/conf/my.cnf</em> becuase is one of the location where MySQL will look his configuration file.</p>

<p>I recommend to use the sample provided by MySQL documentation for large databases localed at <em>/usr/share/doc/mysql-server-5.0/examples/my-large.cnf.gz.</em></p>

<p>After copy the suggested configuration from documantion, I have to apply two changes to warranty the import process don't fail.</p>

<ul>
<li><p>Remove Directive # <em>skip-locking</em></p></li>
<li><p>Increase setting <em>max_allowed_packet = 100M</em></p></li>
</ul>

<p>Then just be enough restart the MySQL server and try to import the database again.</p>

<p>You can check my version of my.cnf <a target="_blank" href="http://7sabores.com/sites/default/files/my.cnf_.txt">here</a></p>
]]></description>
                <link>http://enzolutions.com/articles/2014/05/28/how-to-configure-mysql-to-import-large-database/</link>
                <pubDate>Wed, 28 May 2014 09:42:12 -0600</pubDate>
                <guid>http://enzolutions.com/articles/2014/05/28/how-to-configure-mysql-to-import-large-database/</guid>
            </item>
                    <item>
                <title>My blog is alive again!</title>
                <description><![CDATA[<p>Hello folks.</p>

<p>After many years without touch my personal website, I took the decision to put it back online.</p>

<p>Recently I have been writing technical documentation in Spanish in the website <a href="http://7sabores.com" target="_blank">7Sabores.com</a>. If you are wondering Why in Spanish? and if you read Spanish you can find my justification in the blog entry <a href='http://7sabores.com/blog/se-busca-en-espanol'>¿Se busca en Español?</a>.</p>

<p>I will not translate all my Spanish entries to English or viceversa, all depends my mood :P.</p>

<p>Also I have to say THANKS YOU to two great products <a targe="_blank" href="https://pages.github.com/">GitHub Pages</a> and <a href="http://spress.yosymfony.com/">[S]press</a>. Without them this blog couldn't be possible.</p>

<p>See you around.</p>
]]></description>
                <link>http://enzolutions.com/articles/2014/05/21/my-blog-is-alive-again/</link>
                <pubDate>Wed, 21 May 2014 09:42:12 -0600</pubDate>
                <guid>http://enzolutions.com/articles/2014/05/21/my-blog-is-alive-again/</guid>
            </item>
            </channel>
</rss>

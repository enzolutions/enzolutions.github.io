<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
<title>Backdrop CMS First impressions</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Personal opinions about Backdrop CMS 1.0 Preview">
<meta name="author" content="enzo - Eduardo Garcia">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:image" content="http://enzolutions.com/assets/img/spresso-logo.png">
    <meta name="twitter:title" content="Backdrop CMS First impressions">
    <meta name="twitter:description" content="Personal opinions about Backdrop CMS 1.0 Preview">
    <meta name="twitter:creator" content="@enzolutions">

<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Backdrop CMS First impressions">
<meta property="og:description" content="Personal opinions about Backdrop CMS 1.0 Preview">
<meta property="og:url" content="http://enzolutions.com/articles/2014/12/29/backdrop-cms-first-impressions/">
<meta property="og:site_name" content="[enzo]lutions">

<link href="http://enzolutions.com/rss.xml" type="application/rss+xml" rel="alternate" title="[enzo]lutions Feed">
<link rel="icon" type="image/x-icon" href="http://enzolutions.com/favicon.ico">
<link rel="apple-touch-icon" href="http://enzolutions.com/assets/img/touch-icon-iphone.png">
<link rel="apple-touch-icon" sizes="76x76" href="http://enzolutions.com/assets/img/touch-icon-ipad.png">
<link rel="apple-touch-icon" sizes="120x120" href="http://enzolutions.com/assets/img/touch-icon-iphone-retina.png">
<link rel="apple-touch-icon" sizes="152x152" href="http://enzolutions.com/assets/img/touch-icon-ipad-retina.png">


<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link href="http://enzolutions.com/assets/css/bootstrap.css" rel="stylesheet" media="screen">
<link href="http://enzolutions.com/assets/css/style.css" rel="stylesheet" media="screen">
<link href="http://enzolutions.com/assets/css/theme.css" rel="stylesheet" media="screen">

<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
    </head>
    <body>
        <div id="wrap">
            <div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand">
            <a class="label label-primary" href="/">[enzo]lutions</a>
        </div>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
        <li><a href="/">
        About</a>
    </li>
        <li><a href="/blog">
        Blog</a>
    </li>
        <li><a href="/company">
        Company</a>
    </li>
        <li><a href="/projects">
        Projects</a>
    </li>
        <li><a href="/talks">
        Talks</a>
    </li>
    </ul>
        <div class="navbar-social text-right">
          <ul class="list-inline">
        <li>
        <a target="_blank" href="https://twitter.com/enzolutions">
            <i class="fa fa-twitter fa-2x"></i>
        </a>
    </li>
    
        <li>
        <a target="_blank" href="https://www.facebook.com/enzolutions">
            <i class="fa fa-facebook-square fa-2x"></i>
        </a>
    </li>
    
        <li>
        <a target="_blank" href="cr.linkedin.com/in/edugarcia/">
            <i class="fa fa-linkedin-square fa-2x"></i>
        </a>
    </li>
    
    
        <li>
        <a target="_blank" href="https://github.com/enzolutions">
            <i class="fa fa-github fa-2x"></i>
        </a>
    </li>
    
    
    
        <li>
        <a target="_blank" href="mailto:enzo@enzolutions.com">
            <i class="fa fa-paper-plane fa-2x"></i>
        </a>
    </li>
    
        <li>
        <a target="_blank" href="http://enzolutions.com/rss.xml">
            <i class="fa fa-rss fa-2x"></i>
        </a>
    </li>
    </ul>
        </div>
      </div><!--/.nav-collapse -->
    </div>
</div>
            <div class="container">
                    <article class="post">
    <header>
        <h1>
            <a href="http://enzolutions.com/articles/2014/12/29/backdrop-cms-first-impressions/">Backdrop CMS First impressions</a>
        </h1>
    </header>

    
    <p>Today I finally decided to install <a href="https://backdropcms.org/" target="_blank">Backdrop CMS</a> which is in version 1.0 preview and in Jan 15th, 2015.  will see his first official release.</p>

<p>Here I will not compare if is better or not than Drupal 7, I will just report the changes I saw and how complex I found the process to migrate a module from Drupal 7 to <strong>Backdrop</strong></p>

<h1>Installation</h1>

<p>Looks the same as Drupal 8, check the following image and let me know if you aren't agree</p>

<p><img src="http://enzolutions.com/assets/img/installing_backdrop_cms.png"/></p>

<h1>File Structure</h1>

<p>The files structure of Backdrop is so similar to Drupal 8 check in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_file_structure.png"/></p>

<h1>Modules UI</h1>

<p>The modules menu is named now Functionality and as you see in the following image the core implement a feature implemented by <a href="https://www.drupal.org/project/module_filter" target="_blank"></a>module module_filter in Drupal 7.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_admin_ui.png"/></p>

<h1>Layouts</h1>

<p>In <strong>example.com/admin/structure/layouts</strong> you can find a new concept <strong>Layouts</strong>, Layouts is an implementation similar to <a href="https://www.drupal.org/project/panels" target="_blank">Panels</a> Layouts. By default there is two Layout Admin and Default</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_layout_ui.png"/></p>

<p>You can create your own Layouts and apply this layouts using a matching by URL and you can add contidions, as you can see in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_new_layout.png"/></p>

<p>Backdrop doesn't have a menu to get the list of block generated via code, this list of block is only available when edit a Layout and add a block as you can see in the following imagen.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_layout_add_block.png"/></p>

<h1>Module Migration</h1>

<p>Well maybe this is the part every buddy was expecting, OK to test I decide to check the most used module from <a href="https://www.drupal.org/project/usage" target="_blank">Usage</a> project.</p>

<p>I decide to test with <a href="https://www.drupal.org/project/token" target="_blank">Token</a> the #4 most used module in Drupal with 746,542 installations reported until Nov 15, 2014.</p>

<p>I skip ctools because off Ctools is too complex and views is already in <strong>Backdrop</strong> core :P</p>

<h2>Enable module in Backdrop</h2>

<p>The structure of Modules in Backdrop is the same as Drupal 7, but we need to apply couple changes to avoid Backdrop reporte the module as invalid as you can see in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_module_valid_invalid.png"/></p>

<p>The only require one change in file <strong>token.info</strong> replacing core to <strong>backdrop</strong>. Check how must looks the file to be process by Backdrop</p>

<pre><code>name = Token
description = Provides a user interface for the Token API and some missing core tokens.
core = 7.x
files[] = token.test

version = "7.x-1.5"
project = "token"
backdrop = 1.x
</code></pre>

<p>After that the installation process works like a charm, due the hooks hook_requirements, hook_schema and hook_update_xx are supported.</p>

<h2>Changes detected</h2>

<p>As you can imagine there are some things must be change, in order to use the new Backdrop functions.</p>

<p>Caveats I just replace the code reported as PHP Fatal error.</p>

<h3>Replace function system_get_date_types</h3>

<p>The function <a href="https://api.drupal.org/api/drupal/modules!system!system.module/function/system_get_date_types/7" target="_blank">system_get_date_types</a> doesn't exist in Backdrop, but after some review in source code of core I detect this function was replaced by <a href="https://api.backdropcms.org/api/backdrop/core%21modules%21system%21system.module/function/system_get_date_formats/1" target="_blank">system_get_date_formats</a>.</p>

<p>Also in Drupal 7 this function return a multidimensional array, and each array entry has a title index, in backdrop this index was replaced by <strong>label</strong></p>

<h3>Replace cache_get and cache_set</h3>

<p>These functions were replaced by function <strong>cache</strong> this function receive a bin name and return a Cache class with methods set and get.</p>

<p>The default cache class in Backdrop is <a href="https://api.backdropcms.org/api/backdrop/core%21includes%21cache.inc/class/BackdropDatabaseCache/1" target="_blank">BackdropDatabaseCache</a></p>

<p>Let me show how a get change from Drupal 7</p>

<pre><code>Drupal 7: cache_get('field:info', 'cache_token');

Backdrop: cache('token')-&gt;get('field:info');
</code></pre>

<p>Now how a set change from Drupal 7 to Backdrop</p>

<pre><code>Drupal 7: cache_set('field:info', $info, 'cache_token');

Backdrop: cache('token')-&gt;set('field:info', $info);
</code></pre>

<h2>Testing</h2>

<p>After apply this changes in module token I need to test, I decide to create an script and try to execute with Drush, but I got the following error</p>

<pre><code>Fatal error: Call to undefined function node_load() in /Users/enzo/www/backdrop/token_test.php on line 8
</code></pre>

<p>That is because Drush doesn't know how to load the Backdrop bootstrap, so I decide to create a script with the bootstrap included as you can see in the following snippet.</p>

<pre><code>&lt;?php

define('BACKDROP_ROOT', getcwd());

require_once BACKDROP_ROOT . '/core/includes/bootstrap.inc';
backdrop_bootstrap(BACKDROP_BOOTSTRAP_FULL);

$node = node_load(1);

$nid = token_replace('[node:nid]', array('node' =&gt; $node));

print 'Node ID: ' . $nid . "\n";
</code></pre>

<p>The previous script generate the following output.</p>

<pre><code>Node ID: 1
</code></pre>

<p>Testing at least this simple transformation is working, I am not saying the migration process of a module to Backdrop is a piece of cake, but until know looks like is not a titanic project for sure any case is different.</p>

<p>You can check more details about migrate module to Backdrop in video <a target="_blank" href="https://www.youtube.com/watch?v=by8mMhIpARA">Porting a Module to Backdrop - Basics</a>.</p>

<p>If you want to test my version of Token to Backdrop check the project <a href="https://github.com/enzolutions/backdrop_token" target="_blank">Backdrop Token</a></p>

<p>I hope you found this blog entry useful.</p>


    <footer>
        <p>
            Posted by enzo - Eduardo Garcia on <time pubdate="pubdate">2014-12-29</time>
        </p>

                <ul class="list-unstyled">
                            <li>
                    <i class="fa fa-tags"></i>
                    Backdrop, Backdrop Modules, Migrate
                </li>
                                        <li>
                    <i class="fa fa-folder"></i>
                    articles
                </li>
                    </ul>
            </footer>
    
                        <section>
                <h3>Comments</h3>
                <div id="disqus_thread"></div>
                <noscript>
                    Please enable JavaScript to view the
                    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </section>
            </article>
            </div>
        </div>

        <footer id="footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <ul class="list-inline">
        <li><a href="https://github.com/yosymfony/Spress-theme-spresso">
        Go to Spresso theme web</a>
    </li>
    </ul>
                    </div>
                    <div class="col-md-6 text-right">
                        <ul class="list-inline">
        <li>
        <a target="_blank" href="https://twitter.com/enzolutions">
            <i class="fa fa-twitter fa-2x"></i>
        </a>
    </li>
    
        <li>
        <a target="_blank" href="https://www.facebook.com/enzolutions">
            <i class="fa fa-facebook-square fa-2x"></i>
        </a>
    </li>
    
        <li>
        <a target="_blank" href="cr.linkedin.com/in/edugarcia/">
            <i class="fa fa-linkedin-square fa-2x"></i>
        </a>
    </li>
    
    
        <li>
        <a target="_blank" href="https://github.com/enzolutions">
            <i class="fa fa-github fa-2x"></i>
        </a>
    </li>
    
    
    
        <li>
        <a target="_blank" href="mailto:enzo@enzolutions.com">
            <i class="fa fa-paper-plane fa-2x"></i>
        </a>
    </li>
    
        <li>
        <a target="_blank" href="http://enzolutions.com/rss.xml">
            <i class="fa fa-rss fa-2x"></i>
        </a>
    </li>
    </ul>
                    </div>
                </div>
                <p class="text-center">
                    <a href="https://github.com/yosymfony/Spress-theme-spresso" title="Spresso theme">
                        <img src="http://enzolutions.com/assets/img/spresso-logo.png"/>
                    </a>
                </p>
                <p class="text-center">
                    &copy; 2015 enzo - Eduardo Garcia.
                    Powered by <a href="https://github.com/yosymfony/Spress">Spress</a>.
                </p>
            </div>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
            <script src="/assets/js/bootstrap.min.js"></script>

            <script src="http://enzolutions.com/assets/js/github-repositories.js" type="text/javascript"></script>
            <script type="text/javascript">
              jQuery( document ).ready(function() {
                  jQuery("#my-github-projects").loadRepositories("enzolutions");
              });
            </script>

                        <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
            <script>hljs.initHighlightingOnLoad();</script>
            
                        <script type="text/javascript">
            var disqus_shortname = 'enzolutions';

            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
            </footer>
    
      <!-- Google Analytics Tracker -->
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-17944133-1', 'enzolutions.com');
        ga('send', 'pageview');
      </script>
      <!-- End of Google Analytics Tracker -->
 </body> 
</html>

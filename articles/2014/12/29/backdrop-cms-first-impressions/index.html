<!DOCTYPE HTML>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
  <head>
    <title>Backdrop CMS First impressions</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="generator" content="Spress" />
<meta name="description" content="Personal opinions about Backdrop CMS 1.0 Preview" />
<meta name="keywords" content="" />


<!-- Twitter Cards -->
<meta name="twitter:title" content="Welcome to Spress">
<meta name="twitter:description" content="{ page.description | default(site.description) }}">
<meta name="twitter:site" content="@enzolutions">
<meta name="twitter:creator" content="@">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://enzolutions.com/">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Welcome to Spress">
<meta property="og:description" content="Personal opinions about Backdrop CMS 1.0 Preview">
<meta property="og:url" content="http://enzolutions.com">
<meta property="og:site_name" content="Welcome to Spress">

<link rel="canonical" href="http://enzolutions.com">
<link href="http://enzolutions.com/rss.xml" type="application/atom+xml" rel="alternate" title="Welcome to Spress">
<link rel="author" href="enzolutions">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://enzolutions.com/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://enzolutions.com/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://enzolutions.com/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://enzolutions.com/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://enzolutions.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://enzolutions.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://enzolutions.com/assets/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://enzolutions.com/assets/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://enzolutions.com/assets/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://enzolutions.com/assets/images/apple-touch-icon-144x144-precomposed.png">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
<link rel="stylesheet" href="http://enzolutions.com/assets/css/highlight-theme.css">
  </head>

  <body class="home">
    <!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

    <div class="navigation-wrapper">
  <div class="site-name">
    <a href="http://enzolutions.com">[enzo]lutions</a>
  </div><!-- /.site-name -->
  <div class="top-navigation">
          <ul class="inline">
                    <li>
            <a href="http://enzolutions.com/"  >
              Home</a>
          </li>
                    <li>
            <a href="http://enzolutions.com/company"  >
              Company</a>
          </li>
                    <li>
            <a href="http://enzolutions.com/projects"  >
              Projects</a>
          </li>
                    <li>
            <a href="http://enzolutions.com/talks"  >
              Talks</a>
          </li>
                </ul>
      </div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

      
  <div id="main" role="main">
    <div class="article-author-side">
      <img src="http://enzolutions.com/assets/images/enzo.png" class="bio-photo" alt="enzo - Eduardo Garcia bio photo">

<h3>enzo - Eduardo Garcia</h3>
<p>Home of crazy things I did just for fun</p>

<a href="http://twitter.com/enzolutions" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>

<a href="http://facebook.com/enzolutions" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>

<a href="http://plus.google.com/105943717171843527124" class="author-social" target="_blank"><i class="fa fa-fw fa-google-plus-square"></i> Google+</a>


<a href="http://github.com/enzolutions" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>

<a href="http://linkedin.com/in/edugarcia" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>

<a href="http://enzolutions.com/rss.xml" class="author-social" target="_blank"><i class="fa fa-fw fa-rss"></i> Feed</a>
    </div>

  <article class="post">
  <div class="headline-wrap">
          <h1><a href="http://enzolutions.com/articles/2014/12/29/backdrop-cms-first-impressions/" rel="bookmark" title="Backdrop CMS First impressions">Backdrop CMS First impressions</a></h1>
      </div><!--/ .headline-wrap -->
  <div class="article-wrap">
    <div class="social-share">
  <ul class="inline-list">
    <li class="facebook">
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://enzolutions.com/articles/2014/12/29/backdrop-cms-first-impressions/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Share</span></a>
    </li>
    <li class="twitter">
      <a href="https://twitter.com/intent/tweet?text=http://enzolutions.com/articles/2014/12/29/backdrop-cms-first-impressions/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a>
    </li>
    <li class="googleplus">
      <a href="https://plus.google.com/share?url=http://enzolutions.com/articles/2014/12/29/backdrop-cms-first-impressions/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a>
    </li>
  </ul>
</div>

    <p>Today I finally decided to install <a href="https://backdropcms.org/" target="_blank">Backdrop CMS</a> which is in version 1.0 preview and in Jan 15th, 2015.  will see his first official release.</p>

<p>Here I will not compare if is better or not than Drupal 7, I will just report the changes I saw and how complex I found the process to migrate a module from Drupal 7 to <strong>Backdrop</strong></p>

<h1>Installation</h1>

<p>Looks the same as Drupal 8, check the following image and let me know if you aren't agree</p>

<p><img src="http://enzolutions.com/assets/img/installing_backdrop_cms.png"/></p>

<h1>File Structure</h1>

<p>The files structure of Backdrop is so similar to Drupal 8 check in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_file_structure.png"/></p>

<h1>Modules UI</h1>

<p>The modules menu is named now Functionality and as you see in the following image the core implement a feature implemented by <a href="https://www.drupal.org/project/module_filter" target="_blank"></a>module module_filter in Drupal 7.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_admin_ui.png"/></p>

<h1>Layouts</h1>

<p>In <strong>example.com/admin/structure/layouts</strong> you can find a new concept <strong>Layouts</strong>, Layouts is an implementation similar to <a href="https://www.drupal.org/project/panels" target="_blank">Panels</a> Layouts. By default there is two Layout Admin and Default</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_layout_ui.png"/></p>

<p>You can create your own Layouts and apply this layouts using a matching by URL and you can add contidions, as you can see in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_new_layout.png"/></p>

<p>Backdrop doesn't have a menu to get the list of block generated via code, this list of block is only available when edit a Layout and add a block as you can see in the following imagen.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_layout_add_block.png"/></p>

<h1>Module Migration</h1>

<p>Well maybe this is the part every buddy was expecting, OK to test I decide to check the most used module from <a href="https://www.drupal.org/project/usage" target="_blank">Usage</a> project.</p>

<p>I decide to test with <a href="https://www.drupal.org/project/token" target="_blank">Token</a> the #4 most used module in Drupal with 746,542 installations reported until Nov 15, 2014.</p>

<p>I skip ctools because off Ctools is too complex and views is already in <strong>Backdrop</strong> core :P</p>

<h2>Enable module in Backdrop</h2>

<p>The structure of Modules in Backdrop is the same as Drupal 7, but we need to apply couple changes to avoid Backdrop reporte the module as invalid as you can see in the following image.</p>

<p><img src="http://enzolutions.com/assets/img/backdrop_module_valid_invalid.png"/></p>

<p>The only require one change in file <strong>token.info</strong> replacing core to <strong>backdrop</strong>. Check how must looks the file to be process by Backdrop</p>

<pre><code>name = Token
description = Provides a user interface for the Token API and some missing core tokens.
core = 7.x
files[] = token.test

version = "7.x-1.5"
project = "token"
backdrop = 1.x
</code></pre>

<p>After that the installation process works like a charm, due the hooks hook_requirements, hook_schema and hook_update_xx are supported.</p>

<h2>Changes detected</h2>

<p>As you can imagine there are some things must be change, in order to use the new Backdrop functions.</p>

<p>Caveats I just replace the code reported as PHP Fatal error.</p>

<h3>Replace function system_get_date_types</h3>

<p>The function <a href="https://api.drupal.org/api/drupal/modules!system!system.module/function/system_get_date_types/7" target="_blank">system_get_date_types</a> doesn't exist in Backdrop, but after some review in source code of core I detect this function was replaced by <a href="https://api.backdropcms.org/api/backdrop/core%21modules%21system%21system.module/function/system_get_date_formats/1" target="_blank">system_get_date_formats</a>.</p>

<p>Also in Drupal 7 this function return a multidimensional array, and each array entry has a title index, in backdrop this index was replaced by <strong>label</strong></p>

<h3>Replace cache_get and cache_set</h3>

<p>These functions were replaced by function <strong>cache</strong> this function receive a bin name and return a Cache class with methods set and get.</p>

<p>The default cache class in Backdrop is <a href="https://api.backdropcms.org/api/backdrop/core%21includes%21cache.inc/class/BackdropDatabaseCache/1" target="_blank">BackdropDatabaseCache</a></p>

<p>Let me show how a get change from Drupal 7</p>

<pre><code>Drupal 7: cache_get('field:info', 'cache_token');

Backdrop: cache('token')-&gt;get('field:info');
</code></pre>

<p>Now how a set change from Drupal 7 to Backdrop</p>

<pre><code>Drupal 7: cache_set('field:info', $info, 'cache_token');

Backdrop: cache('token')-&gt;set('field:info', $info);
</code></pre>

<h2>Testing</h2>

<p>After apply this changes in module token I need to test, I decide to create an script and try to execute with Drush, but I got the following error</p>

<pre><code>Fatal error: Call to undefined function node_load() in /Users/enzo/www/backdrop/token_test.php on line 8
</code></pre>

<p>That is because Drush doesn't know how to load the Backdrop bootstrap, so I decide to create a script with the bootstrap included as you can see in the following snippet.</p>

<pre><code>&lt;?php

define('BACKDROP_ROOT', getcwd());

require_once BACKDROP_ROOT . '/core/includes/bootstrap.inc';
backdrop_bootstrap(BACKDROP_BOOTSTRAP_FULL);

$node = node_load(1);

$nid = token_replace('[node:nid]', array('node' =&gt; $node));

print 'Node ID: ' . $nid . "\n";
</code></pre>

<p>The previous script generate the following output.</p>

<pre><code>Node ID: 1
</code></pre>

<p>Testing at least this simple transformation is working, I am not saying the migration process of a module to Backdrop is a piece of cake, but until know looks like is not a titanic project for sure any case is different.</p>

<p>You can check more details about migrate module to Backdrop in video <a target="_blank" href="https://www.youtube.com/watch?v=by8mMhIpARA">Porting a Module to Backdrop - Basics</a>.</p>

<p>If you want to test my version of Token to Backdrop check the project <a href="https://github.com/enzolutions/backdrop_token" target="_blank">Backdrop Token</a></p>

<p>I hope you found this blog entry useful.</p>

    <hr />
    <footer role="contentinfo">
            <p class="byline">Published on <time datetime="2014-12-29T01:42:29+0000">2014-12-29T01:42:29+0000</time>.</p>
      
              <ul class="list-unstyled">
                            <li>
                    <i class="fa fa-tags"></i>
                    Backdrop, Backdrop Modules, Migrate
                </li>
                                        <li>
                    <i class="fa fa-folder"></i>
                    articles
                </li>
                    </ul>
          </footer>
  </div><!-- /.article-wrap -->
    <section>
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
    <noscript>
      Please enable JavaScript to view the
      <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>

      <script type="text/javascript">
        var disqus_shortname = '';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
  </article>

</div><!-- /#main -->

<div class="footer-wrap">
  <footer>
    <span>&copy; 2015 enzo - Eduardo Garcia. <a>
            Design by <a target="_blank" href="https://mademistakes.com/">Michael Rose</a>,
          </li> Powered by <a target="_blank"href="http://spress.yosymfony.com">Spress</a> using the <a target="_blank" href="https://github.com/enzolutions/spress-tinto-theme/">Tinto</a> theme.</span>
<br/>
  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://enzolutions.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://enzolutions.com/assets/js/scripts.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
